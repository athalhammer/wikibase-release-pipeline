services:
  wikibase:
    image: ${WBS_WIKIBASE_IMAGE_URL?}:${WBS_WIKIBASE_VERSION?}
    build:
      context: .
      args:
        - PHP_IMAGE_URL
        - COMPOSER_IMAGE_URL
        - MEDIAWIKI_VERSION
        - WIKIBASE_COMMIT
        - BABEL_COMMIT
        - CLDR_COMMIT
        - CIRRUSSEARCH_COMMIT
        - CONFIRMEDIT_COMMIT
        - ELASTICA_COMMIT
        - ENTITYSCHEMA_COMMIT
        - NUKE_COMMIT
        - OAUTH_COMMIT
        - SCRIBUNTO_COMMIT
        - SYNTAXHIGHLIGHT_GESHI_COMMIT
        - UNIVERSALLANGUAGESELECTOR_COMMIT
        - VISUALEDITOR_COMMIT
        - WIKIBASECIRRUSSEARCH_COMMIT
        - WIKIBASEMANIFEST_COMMIT
        - WIKIBASEEDTF_COMMIT
        - WIKIBASELOCALMEDIA_COMMIT
      tags:
        - ${WBS_WIKIBASE_IMAGE_URL?}:latest
        - ${WBS_WIKIBASE_IMAGE_URL?}:${WBS_WIKIBASE_VERSION_MAJOR?}
        - ${WBS_WIKIBASE_IMAGE_URL?}:${WBS_WIKIBASE_VERSION_MINOR?}
        - ${WBS_WIKIBASE_IMAGE_URL?}:mw${MEDIAWIKI_VERSION?}
